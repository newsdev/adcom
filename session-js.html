<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Session.js &middot; Adcom
    
  </title>

  <meta name="description" content="Adcom is a set of JavaScript plugins and frontend style that are the foundation for admin sites at The New York Times.">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://newsdev.github.io/adcom/">
  <meta name="twitter:title" content="Adcom (Admin Components)">
  <meta name="twitter:description" content="Adcom is a set of JavaScript plugins and frontend style that are the foundation for admin sites at The New York Times.">
  <meta name="twitter:image" content="/adcom/public/images/twittercard.png">
  <meta name="og:image" content="/adcom/public/images/facebookshare.png">
  <meta name="og:site_name" content="Adcom (Admin Components)">
  <meta name="og:url" content="https://newsdev.github.io/adcom/">

  <meta name="canonical" content="https://newsdev.github.io/adcom/">

  <!-- CSS -->
  <link rel="stylesheet" href="/adcom/public/css/poole.css">
  <link rel="stylesheet" href="/adcom/public/css/syntax.css">
  <link rel="stylesheet" href="/adcom/public/css/lanyon.css">
  <link rel="stylesheet" href="/adcom/public/css/adcom-namespaced.css">
  <link rel="stylesheet" href="/adcom/public/css/adcom-docs.css">
  <link rel="stylesheet" href="/adcom/public/css/prism.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/adcom/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/adcom/public/favicon.ico">

  <script type="text/javascript" src="http://typeface.nytimes.com/zam5nzz.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>


  <body class="">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><strong>Ad</strong>min <strong>com</strong>ponents</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="/adcom/">Home</a>
    <hr>
    <a class="sidebar-nav-item " href="/adcom/list-js.html">List.js</a>
    <a class="sidebar-nav-item " href="/adcom/form-js.html">Form.js</a>
    <a class="sidebar-nav-item active" href="/adcom/session-js.html">Session.js</a>
    <a class="sidebar-nav-item " href="/adcom/persist-js.html">Persist.js</a>
    <a class="sidebar-nav-item " href="/adcom/message-js.html">Message.js</a>
    <hr>
    <a class="sidebar-nav-item " href="/adcom/styles.html">Styles</a>
    <a class="sidebar-nav-item" href="/adcom/boilerplate.html">Boilerplate</a>
    <hr>

    <a class="sidebar-nav-item" href="https://github.com/newsdev/adcom/archive/v0.1.0.zip">Download</a>
    <a class="sidebar-nav-item" href="https://github.com/newsdev/adcom">GitHub project</a>
    <span class="sidebar-nav-item">Currently v0.1.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015 The New York Times Company.
    </p>
  </div>

  <div class="sidebar-item sidebar-img">
    <img src="/adcom/public/images/logo.png">
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/adcom/" title="Home">Adcom</a>
          </h3>
        </div>
      </div>

      <div class="container content">
        <h2 id="what-is-session.js?">What is Session.js?</h2>

<blockquote>
<p>Session.js is a thin wrapper around localStorage and sessionStorage for saving user settings.</p>
</blockquote>

<hr>

<ul>
<li><a href="/adcom/#javascript-usage">Usage</a></li>
<li><a href="#options">Options</a></li>
<li><a href="#api">API</a></li>
<li><a href="#events">Events</a></li>
</ul>

<hr>

<h2 id="usage">Usage</h2>

<p>Initialize a session with one required option, <code>key</code> (which maps to the top-level key in localStorage or sessionStorage where the data will be saved). By default, <code>sessionStorage</code> will be used; if you pass <code>persistent: true</code> as part of the options hash, <code>localStorage</code> will be used.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Session</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="s1">'userSettings'</span> <span class="p">});</span>

<span class="kd">var</span> <span class="nx">session</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Session</span><span class="p">({</span>
  <span class="na">key</span><span class="p">:</span> <span class="s1">'userSettings'</span><span class="p">,</span>
  <span class="na">persistent</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">namespace</span><span class="p">:</span> <span class="s1">'indexPage'</span>
<span class="p">});</span>
</code></pre></div>
<p>You can also specify a <code>namespace</code> at initialization, which will prefix all of your underlying item keys.</p>

<p>Once initialized, use <code>session</code> like a key/value store, with simple <code>get</code> and <code>set</code> methods. Data passed to <code>set</code> will be serialized as JSON before storage, and deserialized when returned through <code>get</code>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">session</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'key'</span><span class="p">,</span> <span class="p">{</span> <span class="s2">"user"</span><span class="p">:</span> <span class="s2">"data"</span> <span class="p">});</span>

<span class="nx">session</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'key'</span><span class="p">);</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span> <span class="s2">"user"</span><span class="p">:</span> <span class="s2">"data"</span> <span class="p">}</span>
</code></pre></div>
<p>Destroy your session data with <code>session.removeSession()</code>.</p>

<hr>

<h2 id="options">Options</h2>

<table><thead>
<tr>
<th>attribute</th>
<th>type</th>
<th>default</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td></td>
<td><strong>Required</strong>. Session data will be stored at this key within either <code>localStorage</code> or <code>sessionStorage</code>.</td>
</tr>
<tr>
<td>persistent</td>
<td>boolean</td>
<td>false</td>
<td><code>false</code> sets the storage backend to <code>sessionStorage</code>. <code>true</code> sets it to <code>localStorage</code>.</td>
</tr>
<tr>
<td>namespace</td>
<td>string</td>
<td></td>
<td>If specified, keys passed to <code>.get</code> and <code>.set</code> will be prefixed with this string (+ a <code>.</code>) internally.</td>
</tr>
</tbody></table>

<hr>

<h2 id="api">API <small>Public methods</small></h2>

<table><thead>
<tr>
<th>method</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>.set(key, value)</code></td>
<td>Set and save a value in the storage backend. Value can be anything that will be serialized by <code>JSON.stringify</code>.</td>
</tr>
<tr>
<td><code>.get(key)</code></td>
<td>Retrieve a value from the storage backend. Value will be deserialized using <code>JSON.parse.</code></td>
</tr>
<tr>
<td><code>.removeSession()</code></td>
<td>Call <code>.removeItem</code> on the storage backend with the session&#39;s <code>key</code>.</td>
</tr>
</tbody></table>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');
        document.addEventListener('click', function(e) {
          var target = e.target;
          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;
          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    <script type="text/javascript" src="/adcom/public/js/jquery.min.js"></script>
    <script type="text/javascript" src="/adcom/public/js/underscore-min.js"></script>
    <script type="text/javascript" src="/adcom/public/js/bootstrap.js"></script>
    <script type="text/javascript" src="/adcom/public/js/prism.js" data-manual></script>
    <script type="text/javascript" src="/adcom/public/js/beautify-html.js" data-manual></script>
    <script type="text/javascript" src="/adcom/public/js/adcom.js"></script>
    <script type="text/javascript" src="/adcom/public/js/adcom-docs.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60337978-2', 'auto');
      ga('send', 'pageview');
  </script>
  </body>
</html>
